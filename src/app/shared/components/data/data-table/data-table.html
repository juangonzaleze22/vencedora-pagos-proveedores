<p-table 
  [value]="data"
  [columns]="columns"
  [paginator]="paginator"
  [rows]="rows"
  [loading]="loading"
  styleClass="p-datatable-striped"
  [tableStyle]="{'min-width': '50rem'}">
  <ng-template pTemplate="header" let-columns>
    <tr>
      @for (col of columns; track col.field) {
        <th [pSortableColumn]="col.field">
          {{ col.header }}
        </th>
      }
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr>
      @for (col of columns; track col.field) {
        <td>
          @if (col.template) {
            <ng-container *ngTemplateOutlet="col.template; context: {$implicit: rowData}"></ng-container>
          } @else {
            {{ rowData[col.field] }}
          }
        </td>
      }
    </tr>
  </ng-template>
  @if (loading) {
    <ng-template pTemplate="loadingbody" let-columns="columns">
      <tr>
        @for (col of columns; track col.field) {
          <td>
            <i class="pi pi-spin pi-spinner"></i>
          </td>
        }
      </tr>
    </ng-template>
  }
</p-table>
